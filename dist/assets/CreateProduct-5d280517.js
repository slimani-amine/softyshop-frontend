import{r as x,b as B,o as w,n as z,p as D,j as e,q as U,B as k}from"./index-ce0732d8.js";import{U as R,h as A,D as j}from"./upload-6e73f607.js";import{u as Q}from"./categoryApi-75cddf9d.js";import{u as O}from"./brandApi-437c287f.js";import{u as _}from"./creatorApi-f7012340.js";import{F as a,R as t,C as r}from"./index-f4e2f6ff.js";import{I as N}from"./index-64ee1e3e.js";import{S as i}from"./index-f11e7116.js";import{I as u}from"./index-9b6f9d40.js";import"./CheckOutlined-41626604.js";import"./index-71424fc7.js";const{TextArea:E}=N,se=()=>{const{data:n}=Q(),P=((n==null?void 0:n.data.docs)||[]).map(s=>({label:s.name,value:s.id})),{data:d}=O(),y=((d==null?void 0:d.data.docs)||[]).map(s=>({label:s.name,value:s.id})),{data:m}=_(),v=((m==null?void 0:m.data.docs)||[]).map(s=>({label:s.name,value:s.id})),[b,I]=x.useState(null),[p,f]=x.useState();console.log(b);const g=B(s=>{var c;return(c=s.auth.user)==null?void 0:c.role.toLocaleUpperCase()});console.log(g);let l=[];if(g==="ADMIN"){const{data:s}=w();l=s==null?void 0:s.data.docs}else{const{data:s}=z();l=s==null?void 0:s.data.docs}console.log(l);const h=l==null?void 0:l.map(s=>({label:s.name,value:s.id}));console.log(h);const[o]=a.useForm(),C=s=>{console.log(s),console.log(s),o.resetFields()},[F]=D(),S=async()=>{try{console.log(p);const s=await o.validateFields();console.log(s,"vallllllluuuuuuuueeeeeeeeesÃ ");const c={name:s.name,price:s.price,category_id:s.category,discount:s.discount,stockNumber:s.stock,creator_id:s.creator,brand_id:s.brand,images:p},q=await F({id:s.store,newProduct:c});console.log(q),o.resetFields()}catch(s){console.error("Error saving product",s)}};return e.jsxs("div",{className:"add-new-Product",children:[e.jsx("h1",{className:"title",children:"Add New Product"}),e.jsx("div",{className:"container-add-Product",children:e.jsxs(a,{form:o,onFinish:C,children:[e.jsx(t,{gutter:[16,0],className:"name-Product-new",children:e.jsx(r,{span:24,children:e.jsx(a.Item,{name:"name",style:{marginBottom:20},rules:[{required:!0,message:"Please enter Product name"}],children:e.jsx(N,{size:"large",placeholder:"Name",className:"input-custom",style:{color:"blue"}})})})}),e.jsx(t,{children:e.jsx(r,{span:24,children:e.jsx(a.Item,{name:"store",className:"Product",style:{marginBottom:20},rules:[{required:!0,message:"Product field must have at least 1 items"}],children:e.jsx(i,{size:"large",placeholder:"Store",className:"input-custom",options:h})})})}),e.jsx(t,{children:e.jsx(r,{span:24,children:e.jsx(a.Item,{name:"category",className:"Product",style:{marginBottom:20},rules:[{required:!0,message:"Product field must have at least 1 items"}],children:e.jsx(i,{size:"large",placeholder:"Category",className:"input-custom",options:P})})})}),e.jsx(t,{children:e.jsx(r,{span:24,children:e.jsx(a.Item,{name:"brand",className:"Product",style:{marginBottom:20},rules:[{required:!0,message:"Product field must have at least 1 items"}],children:e.jsx(i,{size:"large",placeholder:"Brand",className:"input-custom",options:y})})})}),e.jsx(t,{children:e.jsx(r,{span:24,children:e.jsx(a.Item,{name:"creator",className:"Product",style:{marginBottom:20},rules:[{required:!0,message:"Product field must have at least 1 items"}],children:e.jsx(i,{size:"large",placeholder:"Creator",className:"input-custom",options:v})})})}),e.jsx(a.Item,{className:"upload-images",name:"images",rules:[{required:!0,message:"Description is required!"}],children:e.jsxs(R.Dragger,{className:"drag-images",listType:"picture",accept:"image/*",multiple:!0,maxCount:3,onChange:s=>A(s,I,f),beforeUpload:()=>!1,children:[e.jsx("p",{className:"ant-upload-text",children:"Drag & drop Product image here"}),e.jsxs("div",{className:"icon-drag",children:[e.jsx(j,{className:"divider"}),e.jsx("p",{className:"or",children:"OR"}),e.jsx(j,{className:"divider"})]}),e.jsx(U,{className:"btn-select",children:"Select Files"}),e.jsx("p",{className:"size-img",children:"Upload 280*280 image"})]})}),e.jsx(a.Item,{children:e.jsx(E,{placeholder:"Description",autoSize:{minRows:7,maxRows:20},name:"description"})}),e.jsxs(t,{gutter:[16,0],className:"name-Product",children:[e.jsx(r,{span:11,children:e.jsx(a.Item,{name:"price",style:{marginBottom:0},rules:[{required:!0,message:"Price is required!  "}],children:e.jsx(u,{name:"price",placeholder:"Regular Price",className:"input-custom",size:"large",style:{width:"100%"}})})}),e.jsx(r,{span:11,children:e.jsx(a.Item,{name:"discount",className:"SalePrice",style:{marginBottom:0},rules:[{required:!0,message:"Please enter sale price"}],children:e.jsx(u,{placeholder:"Discount",className:"input-custom",size:"large",style:{width:"100%"}})})})]}),e.jsx(t,{gutter:[16,0],className:"name-Product",children:e.jsx(r,{span:22,children:e.jsx(a.Item,{name:"stock",style:{marginBottom:0},rules:[{required:!0,message:"Price is required!  "}],children:e.jsx(u,{name:"stock",placeholder:"Stock Number",className:"input-custom",size:"large",style:{width:"100%"}})})})}),e.jsx(a.Item,{children:e.jsx(k,{className:"add-cat",onClick:S,type:"submit",children:"Save Product"})})]})})]})};export{se as default};
