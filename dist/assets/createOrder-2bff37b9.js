import{r as m,a1 as z,J as E,j as e,m as B,B as L}from"./index-043bdbd9.js";import{I as R}from"./index-fbc73767.js";import{S as k}from"./index-08eb27d4.js";import{F as l,a as _,R as i,C as p}from"./index-38fda43e.js";import{g as $}from"./vendorApi-0bac3c3e.js";import{I as C}from"./index-10f1215d.js";import{m as I}from"./index-8ba13c34.js";import"./CheckOutlined-95f96f6c.js";var q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};const A=q;var J=function(a,t){return m.createElement(z,E({},a,{ref:t,icon:A}))};const M=m.forwardRef(J),Q=({name:r,price:a,image:t,onRemove:o})=>{const d=()=>{o()};return e.jsxs("div",{className:"order-item",children:[e.jsx("img",{src:t,alt:r}),e.jsxs("div",{className:"details",children:[e.jsx("h2",{children:r}),e.jsxs("div",{className:"price",children:[e.jsxs("p",{children:["$",a.toFixed(2)," X"]}),e.jsx(R,{required:!0,min:0,defaultValue:1,name:"stock",placeholder:"",className:"input-custom hhh",size:"small",style:{width:"50px",height:"30px"}})]})]}),e.jsx("div",{className:"close-order",onClick:d,children:e.jsx(M,{})})]})},V=r=>{console.log("search:",r)},X=(r,a)=>((a==null?void 0:a.label)??"").toLowerCase().includes(r.toLowerCase()),w=({options:r,onChange:a})=>e.jsx(k,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:a,onSearch:V,filterOption:X,options:r,style:{width:"280px"}}),U=()=>{var N,v,b;const[r]=l.useForm(),[a]=m.useState(5),[t]=m.useState(1),[o,d]=m.useState([]),{data:h}=$({perPage:a,page:t}),x=(N=h==null?void 0:h.data)==null?void 0:N.docs,F=x==null?void 0:x.map(s=>({label:s.email,value:s.id}));console.log(h);const{data:c}=B({perPage:a,page:t}),j=(v=c==null?void 0:c.data)==null?void 0:v.docs,P=s=>j.find(n=>n.id===s);console.log(j);const g=(b=c==null?void 0:c.data)==null?void 0:b.docs.map(s=>({label:s.name,value:s.id}));console.log(g);const y=async()=>{try{const s=await r.validateFields();console.log(s),r.resetFields(),I.success("Shop saved successfully")}catch(s){console.log(s),console.error("Error saving shop",s),I.error("Error saving shop")}},O=s=>{const n=P(s);o.find(u=>u.id===n.id)||d([...o,n])};return e.jsx("div",{className:"",children:e.jsxs("div",{className:"parent-container-order",children:[e.jsx("h1",{className:"title",children:"Create Order"}),e.jsx("div",{className:"create-order-container",children:e.jsxs(l,{form:r,className:"form-shop",children:[e.jsxs("div",{className:"form-content",children:[e.jsxs("div",{className:"part-1",children:[e.jsx(_,{name:"products-search",children:e.jsx(i,{gutter:[3,0],className:"name-Shop",children:e.jsxs(p,{span:3,children:[e.jsx("label",{className:"label-order",htmlFor:"products-search",children:"Product:"}),e.jsx(w,{options:g,onChange:O})]})})}),e.jsx(l.Item,{className:"product-selected",children:o.map((s,n)=>{const u=JSON.parse(s.images);console.log(u);const S=u[0];return console.log(S),e.jsx(Q,{name:s.name,price:s.price,image:S,onRemove:()=>{const f=[...o];f.splice(n,1),d(f)}},s.id)})})]}),e.jsxs("div",{className:"part-2",children:[e.jsx(l.Item,{children:e.jsx(i,{gutter:[4,0],className:"name-Shop",children:e.jsxs(p,{span:3,children:[e.jsx("label",{className:"label-order",htmlFor:"products-search",children:"Email: "}),e.jsx(w,{options:F,onChange:function(s){throw new Error("Function not implemented.")}})]})})}),e.jsx(l.Item,{children:e.jsx(i,{gutter:[4,0],className:"name-Shop",children:e.jsxs(p,{span:3,children:[e.jsx("label",{className:"label-order",htmlFor:"products-search",children:"phoneNumber: "}),e.jsx(l.Item,{name:"phoneNumber",style:{marginBottom:0,width:"280px"},rules:[{required:!0,message:"Please enter phone number"},{min:8,message:"Phone number must be at least 8 characters long"},{pattern:/^\d+$/,message:"Phone number must contain only numbers"}],children:e.jsx(C,{size:"small",placeholder:"Phone Number",className:"input-custom"})})]})})}),e.jsx(l.Item,{children:e.jsx(i,{gutter:[4,0],className:"name-Shop",children:e.jsxs(p,{span:3,children:[e.jsx("label",{className:"label-order",htmlFor:"products-search",children:"Adress: "}),e.jsx(l.Item,{name:"phoneNumber",style:{marginBottom:0,width:"280px"},rules:[{required:!0,message:"Please enter adress"},{min:8,message:"Phone number must be at least 8 characters long"}],children:e.jsx(C,{size:"small",placeholder:"Phone Number",className:"input-custom"})})]})})})]}),e.jsx("div",{className:"part-3",children:e.jsx(l.Item,{children:e.jsx(i,{gutter:[3,0],className:"name-Shop"})})})]}),e.jsx(l.Item,{children:e.jsx(L,{type:"button",className:"add-cat",onClick:y,children:"Save Shop"})})]})})]})})};export{U as default};
