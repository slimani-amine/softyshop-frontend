import{u as h,g as f,r as g,a as P,h as x,_ as n,P as b,j as s,B as j}from"./index-043bdbd9.js";import{u as N,c as v,a as i,b as y,g as q,I as c}from"./getChangedValuesFormik-c9db298f.js";const d={password:"",confirmPassword:""};function E(){const l=h(),{token:r}=f(),[u,t]=g.useState(!1),m=P(),e=N({initialValues:d,validationSchema:v().shape({password:i().required("password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@#$%^&+=!.-/]).{8,}$/,"Password must include an upper case letter, a lower case letter and a special character! It has to be 8 characters long at least."),confirmPassword:i().oneOf([y("password")],"Passwords must match").required("confirm password is required")}),onSubmit:w=>{t(!0);const p=q(w,d),{password:o}=p;console.log(o,r),m(x({newPassword:o,token:r})).unwrap().then(()=>{n.success("Password has been reset!"),l(b.LOGIN)}).catch(a=>{n.error((a==null?void 0:a.message)||"something-went-wrong")}).finally(()=>{t(!1)})}});return console.log(e),s.jsx("div",{className:"enter-module",children:s.jsxs("div",{className:"enter-card-container",children:[s.jsx("h1",{className:"enter-title",children:"Enter your new Password"}),s.jsx("h1",{className:"enter-text",children:"Don't forget it this time!"}),s.jsxs("form",{className:"enter-form",onSubmit:e.handleSubmit,children:[s.jsx(c,{name:"password",formik:e,variant:"secondary",placeholder:"new password",label:"Password",type:"password",required:!0}),s.jsx(c,{name:"confirmPassword",formik:e,variant:"secondary",placeholder:"confirm password",label:"Confirm Password",type:"password",required:!0}),s.jsx(j,{label:"Reset Password",type:"submit",loading:u})]})]})})}export{E as default};
