import{u as j,r as c,j as e,B as n,C as v}from"./index-98278e05.js";import{e as y}from"./categoryApi-1c3a31d3.js";import{U as N,h as f,D as d}from"./upload-78155ae1.js";import{F as s,R as C,C as P}from"./index-2f28a3c1.js";import{I as F}from"./index-f00ae2eb.js";import{m as r}from"./index-f74f6955.js";import"./CheckOutlined-17eda048.js";const R=()=>{const m=j(),[u,g]=c.useState(null);console.log(u);const[l,h]=c.useState(),[t]=s.useForm(),[p]=y(),x=async()=>{try{console.log(l);const i={...await t.validateFields()},o=await p({name:i.name,icon:l,isPublished:i.isPublished==="on"});"data"in o?(r.success("Product saved successfully!"),t.resetFields(),m("/categories")):"error"in o?(r.error("Failed to save product. Please try again."),console.error("Error saving product",o.error)):r.error("Unexpected response from server. Please try again later.")}catch(a){console.error("Error saving category",a),r.error("Error saving category")}};return e.jsxs("div",{className:"add-new-Product",children:[e.jsx("h1",{className:"title",children:"Add New Category"}),e.jsx("div",{className:"container-add-Product",children:e.jsxs(s,{form:t,children:[e.jsx(C,{gutter:[16,0],className:"name-Product",children:e.jsx(P,{span:22,children:e.jsx(s.Item,{name:"name",style:{marginBottom:0},rules:[{required:!0,message:"Please enter Category name"}],children:e.jsx(F,{size:"large",placeholder:"Name",className:"input-custom"})})})}),e.jsx(s.Item,{className:"upload-images",name:"images",rules:[{required:!0,message:"Picture of Category!"}],children:e.jsxs(N.Dragger,{className:"drag-images",listType:"picture",accept:"image/*",maxCount:1,onChange:a=>f(a,g,h),beforeUpload:()=>!1,children:[e.jsx("p",{className:"ant-upload-text",children:"Drag & drop Category image here"}),e.jsxs("div",{className:"icon-drag",children:[e.jsx(d,{className:"divider"}),e.jsx("p",{className:"or",children:"OR"}),e.jsx(d,{className:"divider"})]}),e.jsx(n,{className:"btn-select",children:"Select Files"}),e.jsx("p",{className:"size-img",children:"Upload 280*280 image"})]})}),e.jsx(s.Item,{name:"isPublished",children:e.jsxs("div",{className:"feutured",children:[e.jsx(v,{})," ",e.jsx("span",{children:"Publish category"})]})}),e.jsx(s.Item,{children:e.jsx(n,{type:"submit",className:"add-cat",onClick:x,children:"Save Category"})})]})})]})};export{R as default};
