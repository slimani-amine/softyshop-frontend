import{r as t,u as z,j as e,B as p,C as R,S as D}from"./index-98278e05.js";import{S as I,T as V}from"./SearchFilter-75d7f821.js";import{b as _,c as E,d as A}from"./brandApi-198bc4cb.js";import{l as G}from"./lodash-90dc89f9.js";import{M as T}from"./index-77557c4c.js";import{m as Q}from"./index-f74f6955.js";import"./CheckOutlined-17eda048.js";import"./index-9d1b7eeb.js";import"./index-f00ae2eb.js";function Y(){const[l,j]=t.useState(1),[c,S]=t.useState(5),[r,C]=t.useState([]),[d,B]=t.useState("a"),{data:n}=_({perPage:c,page:l}),[f]=E(),[k,h]=t.useState(!1),{data:i}=A(d),[b,m]=t.useState([]),x=(a,s)=>{j(a),S(s||5)};t.useEffect(()=>{d&&i?m(i.data.docs):n&&m(n.data.docs)},[d,n,i]);const y=G.debounce(a=>{console.log("Search text for Brand list:",a),B(a)},500),N=async()=>{try{await f(r).unwrap(),Q.success("Brand deleted!"),h(!1)}catch{}},g=z(),v=a=>{g(`/Brands/edit/${a}`)},w=()=>{g("/Brands/create")},L=(a,s)=>{const o=a.target.checked;console.log(r),C(u=>o?[...u,s]:u.filter(M=>M!==s))},P={dataSource:b,columns:[{title:"Select",dataIndex:"id",render:(a,s)=>e.jsx(R,{checked:r.includes(s.id),onChange:o=>L(o,s.id)})},{title:"id",dataIndex:"id",key:"id",render:a=>e.jsx("p",{children:a})},{title:"name",className:"name",dataIndex:"name",render:a=>e.jsx("span",{className:"Brand-name",children:a}),key:"name",sorter:(a,s)=>a.name.localeCompare(s.name)},{title:"logo",className:"icon-Brand",dataIndex:"logo",render:a=>e.jsx("img",{className:"img-cteagory",src:a,alt:""}),key:"icon"},{title:"Action",key:"action",className:"action-Brand",render:a=>e.jsx(D,{children:e.jsx("div",{className:"icon-action",onClick:()=>v(a==null?void 0:a.id),children:e.jsxs("svg",{fill:"#7D879C",width:"16px",height:"16px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"",children:[e.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",e.jsxs("g",{children:[" ",e.jsxs("g",{children:[" ",e.jsx("path",{d:"M311.18,78.008L32.23,356.958L0.613,485.716c-1.771,7.209,0.355,14.818,5.604,20.067 c5.266,5.266,12.88,7.368,20.067,5.604l128.759-31.617l278.95-278.95L311.18,78.008z M40.877,471.123l10.871-44.271l33.4,33.4 L40.877,471.123z"})," "]})," "]})," ",e.jsxs("g",{children:[" ",e.jsxs("g",{children:[" ",e.jsx("path",{d:"M502.598,86.818L425.182,9.402c-12.536-12.536-32.86-12.536-45.396,0l-30.825,30.825l122.812,122.812l30.825-30.825 C515.134,119.679,515.134,99.354,502.598,86.818z"})," "]})," "]})," "]})]})})})}],headerStyle:{backgroundColor:"lightblue"},header:{style:{borderRadius:"px"}},pagination:{total:(n==null?void 0:n.data.meta.totalPages)+4,current:l,pageSize:c,onChange:x,onShowSizeChange:x}};return e.jsxs("div",{className:"Product-List",children:[e.jsx("h1",{children:"Brand List"}),e.jsxs("div",{className:"header-Product-list",children:[e.jsx(I,{onSearchChange:y,placeholder:"Search Brand.."}),e.jsxs(p,{className:"add-cat",onClick:w,children:[" ",e.jsx("span",{children:"+"})," Add Brand"]})]}),e.jsxs("div",{className:"container-Product-List",children:[e.jsx("div",{className:"container-btn",children:e.jsx(p,{size:"sm",disabled:r.length===0,variant:r.length===0?"dark":"primary",onClick:N,children:"deleted"})}),e.jsx(V,{...P})]}),e.jsx(T,{title:"Confirm Deletion",visible:k,onCancel:()=>h(!1),okText:"Delete",cancelText:"Cancel",children:e.jsx("p",{children:"Are you sure you want to delete this Brand?"})})]})}export{Y as default};
