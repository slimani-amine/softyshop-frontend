import{u as f,g as v,r as x,j as e,B as g}from"./index-98278e05.js";import{e as j,f as h}from"./creatorApi-6d4ee242.js";import{S as C}from"./Spinner-aa8e0f9e.js";import{F as o,R as y,C as N}from"./index-2f28a3c1.js";import{I as P}from"./index-f00ae2eb.js";import{m as n}from"./index-f74f6955.js";const R=()=>{const i=f(),[s]=o.useForm(),{id:c}=v(),{data:r,isLoading:d,refetch:l}=j(c),[m]=h();if(x.useEffect(()=>{var a;r&&s.setFieldsValue({name:(a=r==null?void 0:r.data)==null?void 0:a.name})},[r,s]),d)return e.jsx(C,{});const u=async()=>{try{const p={...await s.validateFields()},t=await m({id:c,data:{name:p.name}});"data"in t?(n.success("Product saved successfully!"),console.log(t.data),i("/vendors")):"error"in t?(n.error("Failed to save product. Please try again."),console.error("Error saving product",t.error)):n.error("Unexpected response from server. Please try again later."),s.resetFields(),n.success("Creator saved successfully"),l()}catch(a){console.error("Error saving creator",a)}};return e.jsxs("div",{className:"add-new-Product",children:[e.jsx("h1",{className:"title",children:"Add New Creator"}),e.jsx("div",{className:"container-add-Product",children:e.jsxs(o,{form:s,children:[e.jsx(y,{gutter:[16,0],className:"name-Product",children:e.jsx(N,{span:22,children:e.jsx(o.Item,{name:"name",style:{marginBottom:0},rules:[{required:!0,message:"Please enter Creator name"}],children:e.jsx(P,{size:"large",placeholder:"Name",className:"input-custom"})})})}),e.jsx(o.Item,{children:e.jsx(g,{type:"submit",className:"add-cat",onClick:u,children:"Save Creator"})})]})})]})};export{R as default};
