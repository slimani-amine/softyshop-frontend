import{r as s,u as z,j as e,B as u,C as R,S as _}from"./index-ce0732d8.js";import{S as E,T as I}from"./SearchFilter-8de9482d.js";import{l as M}from"./lodash-075111e7.js";import{a as B,b as D,c as G}from"./creatorApi-f7012340.js";import{m as V}from"./index-71424fc7.js";import"./CheckOutlined-41626604.js";import"./index-f11e7116.js";import"./index-64ee1e3e.js";function O(){const[d,p]=s.useState(1),[l,j]=s.useState(5),[r,S]=s.useState([]),[c,C]=s.useState("a"),{data:n}=B({perPage:l,page:d}),[f]=D(),{data:o}=G(c),[k,h]=s.useState([]),m=(a,t)=>{p(a),j(t||5)};s.useEffect(()=>{c&&o?h(o.data.docs):n&&h(n.data.docs)},[c,n,o]);const v=M.debounce(a=>{console.log("Search text for creator list:",a),C(a)},500),N=async()=>{try{await f(r).unwrap(),V.success("creator deleted!")}catch{}},x=z(),b=a=>{x(`/creators/edit/${a}`)},w=()=>{x("/creators/create")},y=(a,t)=>{const i=a.target.checked;console.log(r),S(g=>i?[...g,t]:g.filter(P=>P!==t))},L={dataSource:k,columns:[{title:"Select",dataIndex:"id",render:(a,t)=>e.jsx(R,{checked:r.includes(t.id),onChange:i=>y(i,t.id)})},{title:"id",dataIndex:"id",key:"id",render:a=>e.jsx("p",{children:a})},{title:"name",className:"name",dataIndex:"name",render:a=>e.jsx("span",{className:"creator-name",children:a}),key:"name",sorter:(a,t)=>a.name.localeCompare(t.name)},{title:"Action",key:"action",className:"action-creator",render:a=>e.jsx(_,{children:e.jsx("div",{className:"icon-action",onClick:()=>b(a==null?void 0:a.id),children:e.jsxs("svg",{fill:"#7D879C",width:"16px",height:"16px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"",children:[e.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),e.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",e.jsxs("g",{children:[" ",e.jsxs("g",{children:[" ",e.jsx("path",{d:"M311.18,78.008L32.23,356.958L0.613,485.716c-1.771,7.209,0.355,14.818,5.604,20.067 c5.266,5.266,12.88,7.368,20.067,5.604l128.759-31.617l278.95-278.95L311.18,78.008z M40.877,471.123l10.871-44.271l33.4,33.4 L40.877,471.123z"})," "]})," "]})," ",e.jsxs("g",{children:[" ",e.jsxs("g",{children:[" ",e.jsx("path",{d:"M502.598,86.818L425.182,9.402c-12.536-12.536-32.86-12.536-45.396,0l-30.825,30.825l122.812,122.812l30.825-30.825 C515.134,119.679,515.134,99.354,502.598,86.818z"})," "]})," "]})," "]})]})})})}],headerStyle:{backgroundColor:"lightblue"},header:{style:{borderRadius:"px"}},pagination:{total:30,current:d,pageSize:l,onChange:m,onShowSizeChange:m}};return e.jsxs("div",{className:"Product-List",children:[e.jsx("h1",{children:"creator List"}),e.jsxs("div",{className:"header-Product-list",children:[e.jsx(E,{onSearchChange:v,placeholder:"Search creator.."}),e.jsxs(u,{className:"add-cat",onClick:w,children:[" ",e.jsx("span",{children:"+"})," Add creator"]})]}),e.jsxs("div",{className:"container-Product-List",children:[e.jsx("div",{className:"container-btn",children:e.jsx(u,{size:"sm",disabled:r.length===0,variant:r.length===0?"dark":"primary",onClick:N,children:"deleted"})}),e.jsx(I,{...L})]})]})}export{O as default};
