import{r as m,j as e,B as c}from"./index-043bdbd9.js";import{d as y}from"./vendorApi-0bac3c3e.js";import{U as b,h as f,D as d}from"./upload-eadd2d27.js";import{F as s,R as l,C as t}from"./index-38fda43e.js";import{I as n}from"./index-10f1215d.js";import{m as u}from"./index-8ba13c34.js";import"./CheckOutlined-95f96f6c.js";const z=()=>{const[o]=s.useForm(),[p]=y(),[,h]=m.useState(""),[g,x]=m.useState(null);console.log(g);const[j,N]=m.useState(),P=async()=>{try{const r={...await o.validateFields()};console.log(r,"object post");const v=await p({firstName:r.name,lastName:r.lastName,email:r.email,picture:j,role:"vendor",phoneNumber:r.phoneNumber,password:r.password,verifyPassword:r.password});console.log(v),o.resetFields(),u.success("Vendor saved successfully")}catch(a){console.error("Error saving vendor",a),u.error("Error saving vendor")}},w=()=>{const a=i();console.log(i),o.setFieldsValue({password:a}),h(a)},i=()=>Math.random().toString(36).slice(-10);return e.jsxs("div",{className:"add-new-Product",children:[e.jsx("h1",{className:"title",children:"Add New Vendor"}),e.jsx("div",{className:"container-add-Product",children:e.jsxs(s,{form:o,children:[e.jsx(l,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"name",style:{marginBottom:0},rules:[{required:!0,message:"Please enter Vendor name"}],children:e.jsx(n,{size:"large",placeholder:"Name",className:"input-custom"})})})}),e.jsx(l,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"lastName",style:{marginBottom:0},rules:[{required:!0,message:"Please enter Last Name"}],children:e.jsx(n,{size:"large",placeholder:"Last Name",className:"input-custom"})})})}),e.jsx(l,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"email",style:{marginBottom:0},rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(n,{size:"large",placeholder:"Email",className:"input-custom"})})})}),e.jsx(l,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"phoneNumber",style:{marginBottom:0},rules:[{required:!0,message:"Please enter phone number"},{min:8,message:"Phone number must be at least 8 characters long"},{pattern:/^\d+$/,message:"Phone number must contain only numbers"}],children:e.jsx(n,{size:"large",placeholder:"Phone Number",className:"input-custom"})})})}),e.jsxs(l,{gutter:[16,0],className:"name-Product",children:[e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"password",style:{marginBottom:0},rules:[{required:!0,message:"Please enter password"}],children:e.jsx(n.Password,{size:"large",placeholder:"Password",className:"input-custom"})})}),e.jsx(t,{span:22,children:e.jsx(s.Item,{children:e.jsx(c,{type:"button",className:"generate-password",onClick:w,children:"Generate Password"})})})]}),e.jsx(s.Item,{className:"upload-images",name:"images",rules:[{required:!0,message:"Picture of Category!"}],children:e.jsxs(b.Dragger,{className:"drag-images",listType:"picture",accept:"image/*",maxCount:1,onChange:a=>f(a,x,N),beforeUpload:()=>!1,children:[e.jsx("p",{className:"ant-upload-text",children:"Drag & drop Category image here"}),e.jsxs("div",{className:"icon-drag",children:[e.jsx(d,{className:"divider"}),e.jsx("p",{className:"or",children:"OR"}),e.jsx(d,{className:"divider"})]}),e.jsx(c,{className:"btn-select",children:"Select Files"}),e.jsx("p",{className:"size-img",children:"Upload 280*280 image"})]})}),e.jsx(s.Item,{children:e.jsx(c,{type:"submit",className:"add-cat",onClick:P,children:"Save Category"})})]})})]})};export{z as default};
