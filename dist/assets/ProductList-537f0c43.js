import{r as n,u as D,k as Q,b as V,m as B,n as G,o as U,p as A,j as s,B as g,C as T,S as F,N as O}from"./index-98278e05.js";import{S as q,T as H}from"./SearchFilter-75d7f821.js";import{S as J}from"./Spinner-aa8e0f9e.js";import{S as K}from"./index-9d1b7eeb.js";import{S as W}from"./index-888f1c5a.js";import"./CheckOutlined-17eda048.js";import"./index-f00ae2eb.js";function ae(){var h,p,m;const[c,j]=n.useState(1),[o,S]=n.useState([]),[l,C]=n.useState(),[d,k]=n.useState(5),[,u]=n.useState([]),[P]=n.useState("a"),b=D(),[N]=Q(),v=(e,t)=>{const r=e.target.checked;S(x=>r?[...x,t]:x.filter(M=>M!==t))},w=V(e=>{var t;return(t=e.auth.user)==null?void 0:t.role.toLocaleUpperCase()}),{data:a,isLoading:y}=l?B({id:l,perPage:d,page:c,name:""}):G({perPage:d,page:c,name:""});n.useEffect(()=>{u(a==null?void 0:a.data.docs)},[]),console.log(a,"fetcheddddd products");let i=[];if(w==="VENDOR"){const{data:e}=U();i=(h=e==null?void 0:e.data)==null?void 0:h.docs}else{const{data:e}=A();i=(p=e==null?void 0:e.data)==null?void 0:p.docs}const L=i==null?void 0:i.map(e=>({label:e.name,value:e.id}));if(console.log(a),y)return s.jsx(J,{});const f=async()=>{await N(o)},R=()=>{b("/products/create")},z=(e,t)=>{j(e),k(t||5)},_=[{title:"Select",dataIndex:"id",render:(e,t)=>s.jsx(T,{checked:o.includes(t.id),onChange:r=>v(r,t.id)})},{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>{const r=t.images.replace(/"/g,"");return console.log(r),s.jsxs("div",{className:"name-column",children:[s.jsx("div",{className:"picture-Product",children:s.jsx("img",{height:"30px",width:"30px",src:r,alt:""})}),s.jsxs("div",{className:"data-name",children:[s.jsx("h3",{children:e}),s.jsx("span",{children:t.id})]})]})},sorter:(e,t)=>e.name.localeCompare(t.name)},{title:"Category",className:"product",dataIndex:"category",render:e=>s.jsx("span",{className:"",children:(e==null?void 0:e.name)||"erf"}),key:"Product",sorter:(e,t)=>e.Product.localeCompare(t.Product)},{title:"Price",dataIndex:"price",key:"price",sorter:(e,t)=>e.price-t.price},{title:"Published",dataIndex:"published",key:"published",sorter:(e,t)=>(e.published?1:0)-(t.published?1:0),render:e=>s.jsx(W,{checked:e,onChange:t=>console.log(t),onClick:t=>!t})},{title:"Action",key:"action",render:e=>s.jsx(F,{size:"middle",children:s.jsx("div",{className:"icon-action",onClick:()=>O(e==null?void 0:e.id),children:s.jsxs("svg",{fill:"#7D879C",width:"16px",height:"16px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",stroke:"",children:[s.jsx("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"}),s.jsx("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"}),s.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",s.jsxs("g",{children:[" ",s.jsxs("g",{children:[" ",s.jsx("path",{d:"M311.18,78.008L32.23,356.958L0.613,485.716c-1.771,7.209,0.355,14.818,5.604,20.067 c5.266,5.266,12.88,7.368,20.067,5.604l128.759-31.617l278.95-278.95L311.18,78.008z M40.877,471.123l10.871-44.271l33.4,33.4 L40.877,471.123z"})," "]})," "]})," ",s.jsxs("g",{children:[" ",s.jsxs("g",{children:[" ",s.jsx("path",{d:"M502.598,86.818L425.182,9.402c-12.536-12.536-32.86-12.536-45.396,0l-30.825,30.825l122.812,122.812l30.825-30.825 C515.134,119.679,515.134,99.354,502.598,86.818z"})," "]})," "]})," "]})]})})})}],I={dataSource:(m=a==null?void 0:a.data)==null?void 0:m.docs,columns:_,headerStyle:{backgroundColor:"lightblue"},pagination:{total:30,current:c,pageSize:d,onChange:z},header:{style:{borderRadius:"px"}}},E=e=>{C(e),console.log(l)};return s.jsxs("div",{className:"Product-List",children:[s.jsx("h1",{children:"Product List"}),s.jsxs("div",{className:"header-Product-list",children:[s.jsx(q,{placeholder:"Search Product..",onSearchChange:function(e){throw new Error("Function not implemented.")}}),s.jsx(K,{style:{width:"200px",height:"8px !important",borderRadius:"30px"},size:"small",placeholder:"Store ",options:L,onChange:e=>E(e),className:"input-custom"}),s.jsxs(g,{className:"add-cat",onClick:R,children:[" ",s.jsx("span",{children:"+"})," Add Product"]})]}),s.jsxs("div",{className:"container-Product-List",children:[s.jsx("div",{className:"container-btn",children:s.jsx(g,{size:"sm",disabled:o.length===0,variant:o.length===0?"dark":"primary",onClick:f,children:"deleted"})}),s.jsx(H,{...I})]})]})}export{ae as default};
