import{r as m,u as f,j as e,B as d}from"./index-98278e05.js";import{d as b}from"./vendorApi-931e2668.js";import{U as C,h as F,D as p}from"./upload-78155ae1.js";import{F as s,R as o,C as t}from"./index-2f28a3c1.js";import{I as l}from"./index-f00ae2eb.js";import{m as c}from"./index-f74f6955.js";import"./CheckOutlined-17eda048.js";const V=()=>{const[i]=s.useForm(),[g]=b(),[,h]=m.useState(""),[x,j]=m.useState(null);console.log(x);const[N,P]=m.useState(),v=f(),w=async()=>{try{const r={...await i.validateFields()};console.log(r,"object post");const n=await g({firstName:r.name,lastName:r.lastName,email:r.email,picture:N,role:"vendor",phoneNumber:r.phoneNumber,password:r.password,verifyPassword:r.password});"data"in n?(c.success("Product saved successfully!"),console.log(n.data),v("/vendors")):"error"in n?(c.error("Failed to save product. Please try again."),console.error("Error saving product",n.error)):c.error("Unexpected response from server. Please try again later.")}catch(a){console.error("Error saving vendor",a),c.error("Error saving vendor")}},y=()=>{const a=u();console.log(u),i.setFieldsValue({password:a}),h(a)},u=()=>Math.random().toString(36).slice(-10);return e.jsxs("div",{className:"add-new-Product",children:[e.jsx("h1",{className:"title",children:"Add New Vendor"}),e.jsx("div",{className:"container-add-Product",children:e.jsxs(s,{form:i,children:[e.jsx(o,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"name",style:{marginBottom:0},rules:[{required:!0,message:"Please enter Vendor name"}],children:e.jsx(l,{size:"large",placeholder:"Name",className:"input-custom"})})})}),e.jsx(o,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"lastName",style:{marginBottom:0},rules:[{required:!0,message:"Please enter Last Name"}],children:e.jsx(l,{size:"large",placeholder:"Last Name",className:"input-custom"})})})}),e.jsx(o,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"email",style:{marginBottom:0},rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:e.jsx(l,{size:"large",placeholder:"Email",className:"input-custom"})})})}),e.jsx(o,{gutter:[16,0],className:"name-Product",children:e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"phoneNumber",style:{marginBottom:0},rules:[{required:!0,message:"Please enter phone number"},{min:8,message:"Phone number must be at least 8 characters long"},{pattern:/^\d+$/,message:"Phone number must contain only numbers"}],children:e.jsx(l,{size:"large",placeholder:"Phone Number",className:"input-custom"})})})}),e.jsxs(o,{gutter:[16,0],className:"name-Product",children:[e.jsx(t,{span:22,children:e.jsx(s.Item,{name:"password",style:{marginBottom:0},rules:[{required:!0,message:"Please enter password"}],children:e.jsx(l.Password,{size:"large",placeholder:"Password",className:"input-custom"})})}),e.jsx(t,{span:22,children:e.jsx(s.Item,{children:e.jsx(d,{type:"button",className:"generate-password",onClick:y,children:"Generate Password"})})})]}),e.jsx(s.Item,{className:"upload-images",name:"images",rules:[{required:!0,message:"Picture of Category!"}],children:e.jsxs(C.Dragger,{className:"drag-images",listType:"picture",accept:"image/*",maxCount:1,onChange:a=>F(a,j,P),beforeUpload:()=>!1,children:[e.jsx("p",{className:"ant-upload-text",children:"Drag & drop Category image here"}),e.jsxs("div",{className:"icon-drag",children:[e.jsx(p,{className:"divider"}),e.jsx("p",{className:"or",children:"OR"}),e.jsx(p,{className:"divider"})]}),e.jsx(d,{className:"btn-select",children:"Select Files"}),e.jsx("p",{className:"size-img",children:"Upload 280*280 image"})]})}),e.jsx(s.Item,{children:e.jsx(d,{type:"submit",className:"add-cat",onClick:w,children:"Save Category"})})]})})]})};export{V as default};
